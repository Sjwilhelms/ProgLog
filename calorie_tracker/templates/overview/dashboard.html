{% extends "base.html" %} {% block content %}
<div class="dashboard">
    <div class="dashboard-day">
        <h2>Today</h2>
        <div class="dashboard-day-intake">
            <h3>Food Intake</h3>

            <table>
                <thead>
                    <tr>
                        <th>Meal</th>
                        <th>Type</th>
                        <th>Calories</th>
                    </tr>
                </thead>
                <tbody>
                    {% for food in food_logs_day %}
                    <tr>
                        <td>
                            <a
                                href="{% url 'calorie_tracker:food_detail' food.pk %}"
                                >{{ food.meal_name }}</a
                            >
                        </td>
                        <td>{{ food.meal_type }}</td>
                        <td>{{ food.calories_in }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="3">No food logged today</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="dashboard-day-burn">
            <h3>Calorie Burn</h3>

            <table>
                <thead>
                    <tr>
                        <th>Activity</th>
                        <th>Duration (mins)</th>
                        <th>Burned</th>
                    </tr>
                </thead>
                <tbody>
                    {% for cardio in cardio_logs_day %}
                    <tr>
                        <td>
                            <a
                                href="{% url 'calorie_tracker:cardio_detail' cardio.pk %}"
                                >{{ cardio.cardio_name }}</a
                            >
                        </td>
                        <td>{{ cardio.duration }}</td>
                        <td>{{ cardio.calories_out }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="3">No cardio logged today</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="dashboard-day-net">
            <h4>Net Calories Today</h4>

            <div>{{ net_calorie_day }}</div>
        </div>
    </div>

    <div class="dashboard-week">
        <div class="dashboard-rolling">
            <!-- these tables are not working correctly right now -->

            <h3>Last 7 Days</h3>

            <div>Net calories {{ net_calorie_calendar_week }}</div>

            {% include "overview/rolling_week_summary.html" with week_type="Last 7 Days (Rolling Week)" days=rolling.rolling_days table_data=rolling.rolling_table_data food_totals=rolling.rolling_food_totals exercise_totals=rolling.rolling_exercise_totals net_calories=rolling.rolling_net_calories %}

        </div>
        <div class="dashboard-calendar">
            <h3>This Week</h3>

            <div>Net calories: {{ net_calorie_rolling_week }}</div>

            {% include "overview/calendar_week_summary.html" with week_type="This Week (Calendar Week)" days=calendar.days table_data=calendar.table_data food_totals=calendar.food_totals exercise_totals=calendar.exercise_totals net_calories=calendar.net_calories %}

        </div>
    </div>
</div>

{% endblock %}
